import{o as Z}from"./modal.DQW4ZWZ4.js";import{_ as ue}from"./defineProperty.DeQIHtNo.js";function pe(e){if(Array.isArray(e))return e}function ge(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,i,u,d=[],o=!0,c=!1;try{if(i=(t=t.call(e)).next,r!==0)for(;!(o=(n=i.call(t)).done)&&(d.push(n.value),d.length!==r);o=!0);}catch(s){c=!0,a=s}finally{try{if(!o&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(c)throw a}}return d}}function Y(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function le(e,r){if(e){if(typeof e=="string")return Y(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y(e,r):void 0}}function ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function me(e,r){return pe(e)||ge(e,r)||le(e,r)||ye()}var k={},W={};Object.defineProperty(W,"__esModule",{value:!0});W.bind=void 0;function be(e,r){var t=r.type,n=r.listener,a=r.options;return e.addEventListener(t,n,a),function(){e.removeEventListener(t,n,a)}}W.bind=be;var U={},K=Z&&Z.__assign||function(){return K=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K.apply(this,arguments)};Object.defineProperty(U,"__esModule",{value:!0});U.bindAll=void 0;var he=W;function _(e){if(!(typeof e>"u"))return typeof e=="boolean"?{capture:e}:e}function Te(e,r){if(r==null)return e;var t=K(K({},e),{options:K(K({},_(r)),_(e.options))});return t}function De(e,r,t){var n=r.map(function(a){var i=Te(a,t);return(0,he.bind)(e,i)});return function(){n.forEach(function(i){return i()})}}U.bindAll=De;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.bind=void 0;var r=W;Object.defineProperty(e,"bind",{enumerable:!0,get:function(){return r.bind}});var t=U;Object.defineProperty(e,"bindAll",{enumerable:!0,get:function(){return t.bindAll}})})(k);function Ae(e){if(Array.isArray(e))return Y(e)}function we(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(e){return Ae(e)||we(e)||le(e)||Oe()}function V(e){var r=null;return function(){return r||(r={value:e.apply(void 0,arguments)}),r.value}}var Ee=V(function(){return navigator.userAgent.includes("Firefox")}),z=V(function(){var r=navigator,t=r.userAgent;return t.includes("AppleWebKit")&&!t.includes("Chrome")}),B={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function Se(e){var r=e.dragLeave;return z()?r.hasOwnProperty(B.isLeavingWindow):!1}(function(){if(typeof window>"u"||!z())return;function r(){return{enterCount:0,isOverWindow:!1}}var t=r();function n(){t=r()}k.bindAll(window,[{type:"dragstart",listener:function(){t.enterCount=0,t.isOverWindow=!0}},{type:"drop",listener:n},{type:"dragend",listener:n},{type:"dragenter",listener:function(i){!t.isOverWindow&&t.enterCount===0&&(i[B.isEnteringWindow]=!0),t.isOverWindow=!0,t.enterCount++}},{type:"dragleave",listener:function(i){t.enterCount--,t.isOverWindow&&t.enterCount===0&&(i[B.isLeavingWindow]=!0,t.isOverWindow=!1)}}],{capture:!0})})();function Pe(e){return"nodeName"in e}function je(e){return Pe(e)&&e.ownerDocument!==document}function Ie(e){var r=e.dragLeave,t=r.type,n=r.relatedTarget;return t!=="dragleave"?!1:z()?Se({dragLeave:r}):n==null?!0:Ee()?je(n):n instanceof HTMLIFrameElement}function Ce(e){var r=e.onDragEnd;return[{type:"pointermove",listener:function(){var t=0;return function(){if(t<20){t++;return}r()}}()},{type:"pointerdown",listener:r}]}function Fe(e,r){var t=r.property,n=r.rule,a=r.priority,i=a===void 0?"":a,u=e.style.getPropertyValue(t),d=e.style.getPropertyPriority(t);return e.style.setProperty(t,n,i),function(){e.style.setProperty(t,u,d)}}function Ke(e){var r=e.current,t=document.elementFromPoint(r.input.clientX,r.input.clientY);return t instanceof HTMLElement?Fe(t,{property:"pointer-events",rule:"auto",priority:"important"}):null}function Me(){var e,r=document.createElement("style");return r.setAttribute("pdnd-post-drag-fix","true"),document.head.appendChild(r),(e=r.sheet)===null||e===void 0||e.insertRule("* { pointer-events: none !important; }"),function(){document.head.removeChild(r)}}function ee(e){var r=e.current;queueMicrotask(function(){var t=Ke({current:r}),n=Me();function a(){i(),t==null||t(),n()}var i=k.bindAll(window,[{type:"pointerdown",listener:a},{type:"pointermove",listener:a},{type:"focusin",listener:a},{type:"focusout",listener:a},{type:"dragstart",listener:a},{type:"dragenter",listener:a},{type:"dragover",listener:a}],{capture:!0})})}function J(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var ke=function(r){var t=[],n=null,a=function(){for(var u=arguments.length,d=new Array(u),o=0;o<u;o++)d[o]=arguments[o];t=d,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a},x=ke(function(e){return e()}),H=function(){var e=null;function r(n){var a=requestAnimationFrame(function(){e=null,n()});e={frameId:a,fn:n}}function t(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}return{schedule:r,flush:t}}();function We(e){var r=e.source,t=e.initial,n=e.dispatchEvent,a={dropTargets:[]};function i(d){n(d),a={dropTargets:d.payload.location.current.dropTargets}}var u={start:function(o){var c=o.nativeSetDragImage,s={current:t,previous:a,initial:t};i({eventName:"onGenerateDragPreview",payload:{source:r,location:s,nativeSetDragImage:c}}),H.schedule(function(){i({eventName:"onDragStart",payload:{source:r,location:s}})})},dragUpdate:function(o){var c=o.current;H.flush(),x.cancel(),i({eventName:"onDropTargetChange",payload:{source:r,location:{initial:t,previous:a,current:c}}})},drag:function(o){var c=o.current;x(function(){H.flush();var s={initial:t,previous:a,current:c};i({eventName:"onDrag",payload:{source:r,location:s}})})},drop:function(o){var c=o.current,s=o.updatedSourcePayload;H.flush(),x.cancel(),i({eventName:"onDrop",payload:{source:s??r,location:{current:c,previous:a,initial:t}}})}};return u}var G={isActive:!1};function de(){return!G.isActive}function He(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function Le(e){var r=e.current,t=e.next;if(r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n].element!==t[n].element)return!0;return!1}function Ue(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=e.dispatchEvent;if(!de())return;var i=Ne({event:r,dragType:t,getDropTargetsOver:n});G.isActive=!0;var u={current:i};$({event:r,current:i.dropTargets});var d=We({source:t.payload,dispatchEvent:a,initial:i});function o(l){var f=Le({current:u.current.dropTargets,next:l.dropTargets});u.current=l,f&&d.dragUpdate({current:u.current})}function c(l){var f=J(l),p=n({target:l.target,input:f,source:t.payload,current:u.current.dropTargets});p.length&&(l.preventDefault(),$({event:l,current:p})),o({dropTargets:p,input:f})}function s(){u.current.dropTargets.length&&o({dropTargets:[],input:u.current.input}),d.drop({current:u.current,updatedSourcePayload:null}),g()}function g(){G.isActive=!1,w()}var w=k.bindAll(window,[{type:"dragover",listener:function(f){c(f),d.drag({current:u.current})}},{type:"dragenter",listener:c},{type:"dragleave",listener:function(f){Ie({dragLeave:f})&&(o({input:u.current.input,dropTargets:[]}),t.startedFrom==="external"&&s())}},{type:"drop",listener:function(f){if(!u.current.dropTargets.length){s();return}f.preventDefault(),$({event:f,current:u.current.dropTargets}),d.drop({current:u.current,updatedSourcePayload:t.type==="external"?t.getDropPayload(f):null}),g(),t.startedFrom==="internal"&&ee({current:u.current})}},{type:"dragend",listener:function(f){s(),t.startedFrom==="internal"&&ee({current:u.current})}}].concat(ce(Ce({onDragEnd:s}))),{capture:!0});d.start({nativeSetDragImage:He(r)})}function $(e){var r,t=e.event,n=e.current,a=(r=n[0])===null||r===void 0?void 0:r.dropEffect;a!=null&&t.dataTransfer&&(t.dataTransfer.dropEffect=a)}function Ne(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=J(r);if(t.startedFrom==="external")return{input:a,dropTargets:[]};var i=n({input:a,source:t.payload,target:r.target,current:[]});return{input:a,dropTargets:i}}var te={canStart:de,start:Ue},q=new Map;function xe(e){var r=e.typeKey,t=e.mount,n=q.get(r);if(n)return n.usageCount++,n;var a={typeKey:r,unmount:t(),usageCount:1};return q.set(r,a),a}function $e(e){var r=xe(e);return function(){r.usageCount--,!(r.usageCount>0)&&(r.unmount(),q.delete(e.typeKey))}}function se(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){r.forEach(function(a){return a()})}}function fe(e,r){var t=r.attribute,n=r.value;return e.setAttribute(t,n),function(){return e.removeAttribute(t)}}function re(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?re(Object(t),!0).forEach(function(n){ue(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function R(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Re(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,d;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return i=c.done,c},e:function(c){u=!0,d=c},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(u)throw d}}}}function Re(e,r){if(e){if(typeof e=="string")return ne(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,r)}}function ne(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function X(e){return e.slice(0).reverse()}function Xe(e){var r=e.typeKey,t=e.defaultDropEffect,n=new WeakMap,a="data-drop-target-for-".concat(r),i="[".concat(a,"]");function u(l){return n.set(l.element,l),function(){return n.delete(l.element)}}function d(l){return se(fe(l.element,{attribute:a,value:"true"}),u(l))}function o(l){var f,p,m,A,y=l.source,h=l.target,b=l.input,T=l.result,v=T===void 0?[]:T;if(h==null)return v;if(!(h instanceof Element))return h instanceof Node?o({source:y,target:h.parentElement,input:b,result:v}):v;var E=h.closest(i);if(E==null)return v;var D=n.get(E);if(D==null)return v;var S={input:b,source:y,element:D.element};if(D.canDrop&&!D.canDrop(S))return o({source:y,target:D.element.parentElement,input:b,result:v});var P=(f=(p=D.getData)===null||p===void 0?void 0:p.call(D,S))!==null&&f!==void 0?f:{},j=(m=(A=D.getDropEffect)===null||A===void 0?void 0:A.call(D,S))!==null&&m!==void 0?m:t,O={data:P,element:D.element,dropEffect:j,isActiveDueToStickiness:!1};return o({source:y,target:D.element.parentElement,input:b,result:[].concat(ce(v),[O])})}function c(l){var f=l.eventName,p=l.payload,m=R(p.location.current.dropTargets),A;try{for(m.s();!(A=m.n()).done;){var y,h=A.value,b=n.get(h.element),T=C(C({},p),{},{self:h});b==null||(y=b[f])===null||y===void 0||y.call(b,T)}}catch(v){m.e(v)}finally{m.f()}}var s={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:function(f){var p=f.payload,m=new Set(p.location.current.dropTargets.map(function(M){return M.element})),A=new Set,y=R(p.location.previous.dropTargets),h;try{for(y.s();!(h=y.n()).done;){var b,T=h.value;A.add(T.element);var v=n.get(T.element),E=m.has(T.element),D=C(C({},p),{},{self:T});if(v==null||(b=v.onDropTargetChange)===null||b===void 0||b.call(v,D),!E){var S;v==null||(S=v.onDragLeave)===null||S===void 0||S.call(v,D)}}}catch(M){y.e(M)}finally{y.f()}var P=R(p.location.current.dropTargets),j;try{for(P.s();!(j=P.n()).done;){var O,F,N=j.value;if(!A.has(N.element)){var Q=C(C({},p),{},{self:N}),I=n.get(N.element);I==null||(O=I.onDropTargetChange)===null||O===void 0||O.call(I,Q),I==null||(F=I.onDragEnter)===null||F===void 0||F.call(I,Q)}}}catch(M){P.e(M)}finally{P.f()}}};function g(l){s[l.eventName](l)}function w(l){var f=l.source,p=l.target,m=l.input,A=l.current,y=o({source:f,target:p,input:m});if(y.length>=A.length)return y;for(var h=X(A),b=X(y),T=[],v=0;v<h.length;v++){var E,D=h[v],S=b[v];if(S!=null){T.push(S);continue}var P=T[v-1],j=h[v-1];if((P==null?void 0:P.element)!==(j==null?void 0:j.element))break;var O=n.get(D.element);if(!O)break;var F={input:m,source:f,element:O.element};if(O.canDrop&&!O.canDrop(F)||!((E=O.getIsSticky)!==null&&E!==void 0&&E.call(O,F)))break;T.push(C(C({},D),{},{isActiveDueToStickiness:!0}))}return X(T)}return{dropTargetForConsumers:d,getIsOver:w,dispatchEvent:g}}function Ye(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Be(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,d;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return i=c.done,c},e:function(c){u=!0,d=c},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(u)throw d}}}}function Be(e,r){if(e){if(typeof e=="string")return ae(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ae(e,r)}}function ae(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ie(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ge(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ie(Object(t),!0).forEach(function(n){ue(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function qe(){var e=new Set,r=null;function t(i){r&&(!i.canMonitor||i.canMonitor(r.canMonitorArgs))&&r.active.add(i)}function n(i){var u=Ge({},i);return e.add(u),t(u),function(){e.delete(u),r&&r.active.delete(u)}}function a(i){var u=i.eventName,d=i.payload;if(u==="onGenerateDragPreview"){r={canMonitorArgs:{initial:d.location.initial,source:d.source},active:new Set};var o=Ye(e),c;try{for(o.s();!(c=o.n()).done;){var s=c.value;t(s)}}catch(m){o.e(m)}finally{o.f()}}if(r){for(var g=Array.from(r.active),w=0,l=g;w<l.length;w++){var f=l[w];if(r.active.has(f)){var p;(p=f[u])===null||p===void 0||p.call(f,d)}}u==="onDrop"&&(r.active.clear(),r=null)}}return{dispatchEvent:a,monitorForConsumers:n}}function Ve(e){var r=e.typeKey,t=e.mount,n=e.dispatchEventToSource,a=e.defaultDropEffect,i=qe(),u=Xe({typeKey:r,defaultDropEffect:a});function d(s){n==null||n(s),u.dispatchEvent(s),i.dispatchEvent(s)}function o(s){var g=s.event,w=s.dragType;te.start({event:g,dragType:w,getDropTargetsOver:u.getIsOver,dispatchEvent:d})}function c(){function s(){var g={canStart:te.canStart,start:o};return t(g)}return $e({typeKey:r,mount:s})}return{registerUsage:c,dropTarget:u.dropTargetForConsumers,monitor:i.monitorForConsumers}}var ze=V(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),Je="pdnd:android-fallback",oe="text/plain",Qe="text/uri-list",Ze="application/vnd.pdnd",L=new WeakMap;function _e(e){return L.set(e.element,e),function(){L.delete(e.element)}}var ve=Ve({typeKey:"element",defaultDropEffect:"move",mount:function(r){return k.bind(document,{type:"dragstart",listener:function(n){var a,i,u,d,o,c;if(r.canStart(n)&&!n.defaultPrevented&&n.dataTransfer){var s=n.target;if(!(s instanceof HTMLElement))return null;var g=L.get(s);if(!g)return null;var w=J(n),l={element:g.element,dragHandle:(a=g.dragHandle)!==null&&a!==void 0?a:null,input:w};if(g.canDrag&&!g.canDrag(l))return n.preventDefault(),null;if(g.dragHandle){var f=document.elementFromPoint(w.clientX,w.clientY);if(!g.dragHandle.contains(f))return n.preventDefault(),null}var p=(i=(u=g.getInitialDataForExternal)===null||u===void 0?void 0:u.call(g,l))!==null&&i!==void 0?i:null;if(p)for(var m=0,A=Object.entries(p);m<A.length;m++){var y=me(A[m],2),h=y[0],b=y[1];n.dataTransfer.setData(h,b??"")}var T=n.dataTransfer.types;ze()&&!T.includes(oe)&&!T.includes(Qe)&&n.dataTransfer.setData(oe,Je),n.dataTransfer.setData(Ze,"");var v={element:g.element,dragHandle:(d=g.dragHandle)!==null&&d!==void 0?d:null,data:(o=(c=g.getInitialData)===null||c===void 0?void 0:c.call(g,l))!==null&&o!==void 0?o:{}},E={type:"element",payload:v,startedFrom:"internal"};r.start({event:n,dragType:E})}}})},dispatchEventToSource:function(r){var t,n,a=r.eventName,i=r.payload;(t=L.get(i.source.element))===null||t===void 0||(n=t[a])===null||n===void 0||n.call(t,i)}}),rt=ve.dropTarget;function nt(e){return se(ve.registerUsage(),_e(e),fe(e.element,{attribute:"draggable",value:"true"}))}export{nt as draggable,rt as dropTargetForElements};
